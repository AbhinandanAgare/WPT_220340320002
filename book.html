<html>

<head>
	<script src="jquery-3.5.1.min.js"></script>
	<script>//our scrip will come here 



		$(document).ready(function () {
			console.log("no more sins");


			//   Blur event-------------
			$("#id").blur(function () {

				console.log("jquery works");
				// alert("jquery works")
				let ip = { id: $("#id").val() };
				let parametertoFunction =
				{

					data: ip,
					url: "http://localhost:5500/bookInfo",
					type: 'get',
					dataType: "json",
					sucess: (datagivenbyserver) => {
						console.log("data given by server in sucess" + datagivenbyserver.status);
						if (datagivenbyserver) {
							$("#name").val(datagivenbyserver.bookdetails.name);
							$("#price").val(datagivenbyserver.bookdetails.price);
							$("#msg").text(datagivenbyserver.bookdetails.msg);

						}
						else {
							$("#name").val(" ");
							$("#price").val(" ");
							$("#msg").text(" BOOK ID NOT FOUND");
						}
					},
					error: (errorgivenbyserver) => {
						console.log(' Failed to contact server' + errorgivenbyserver.status
						)
					}

				};
				console.log("is the function working");

				$.ajax(parametertoFunction);



			});


			// update click event-------------


			$("#update").click(function () {
				console.log("jquery works");
				// alert("jquery works")
				let iuput2 = { id2: $("#id").val(), name2: $("#name").val(), price2: $("#price").val() };
				let parametertoFunction =
				{
					data: ip,
					url: "http://localhost:5500/bookupdate",
					type: 'get',
					dataType: "json",
					sucess: (datagivenbyserver) => {
						console.log("data given by server in sucess" + datagivenbyserver.status);
						if (datagivenbyserver) {
							$("#msg").text("Update Successfully");
						}
						else {
							$("#msg").text("Update Failed");
						}
					},
					error: (errorgivenbyserver) => {
						console.log(' Failed to contact server' + errorgivenbyserver.status
						)
					}
				};
				console.log("is the function working");
				$.ajax(parametertoFunction);
			});

		});


	</script>

</head>

<body>


	<input type="text"
		   id="id"
		   placeholder="Book ID.......">
	<span id="msg">BOOK DISPLAY HERE ........</span> <br>
	<br>
	<input type="text"
		   id="name"
		   placeholder="Book  Name......."> <br>
	<br>
	<input type="text"
		   id="price"
		   placeholder="Book  Price......."> <br>
	<br>
	<input id="update"
		   type="button"
		   value="Update Book">




</body>



</html>